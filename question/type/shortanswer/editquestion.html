<?php
$QTYPES[$question->qtype]->print_question_form_start($question, array(), $course, $usehtmleditor);
?>
<tr valign="top">
    <td align="right"><b><?php print_string("casesensitive", "quiz") ?>:</b></td>
    <td align="left">
    <?php
        unset($menu);
        $menu[0] = get_string("caseno", "quiz");
        $menu[1] = get_string("caseyes", "quiz");
        choose_from_menu($menu, "usecase", "$options->usecase", "");
     ?>
    </td>
</tr>
<tr valign="top">
    <td align="right"><b><?php print_string("correctanswers", "quiz") ?></b>:</td>
    <td align="left">
        <div style="width: 35em">
            <?php print_string("filloutoneanswer", "quiz") ?>
        </div>
    </td>
</tr>
<?php
    for ($i=1; $i<=count($answers); $i++) {
?>
<tr valign="top">
    <td align="right"><b><?php echo get_string("answer", "quiz")." $i";  ?>:</b></td>
    <td align="left">
        <?php
            if ($answers[$i-1]->answer === '') {
                $answertext   = '';
                $fractionval  = 0;
                $feedbacktext = '';
            } else {
                $answertext   = $answers[$i-1]->answer;
                $fractionval  = $answers[$i-1]->fraction;
                $feedbacktext = $answers[$i-1]->feedback;
            }
        ?>
        <input type="text" name="answer[]" size="50" value="<?php p($answertext) ?>" alt="<?php  echo get_string("answer", "quiz")." $i";  ?>" />&nbsp;&nbsp;
        <?php  print_string("grade");
           echo ":&nbsp;";
           choose_from_menu($gradeoptions, "fraction[]", $fractionval,""); ?>
        <br />
    </td>
</tr>
<tr valign="top">
    <td align="right"><b><?php print_string("feedback", "quiz") ?>:</b></td>
    <td align="left">
        <textarea name="feedback[]" rows="2" cols="50"><?php  p($feedbacktext) ?></textarea>
    </td>
</tr>
<tr valign="top">
    <td colspan="2">&nbsp;</td>
</tr>
<?php
    }

$QTYPES[$question->qtype]->print_replacement_options($question, $course, $contextquiz);
$QTYPES[$question->qtype]->print_question_form_end($question);
?>
