YUI.add("moodle-core-management",function(e,t){function n(e){n.superclass.constructor.apply(this,[e])}function r(e){r.superclass.constructor.apply(this,e)}function i(e){i.superclass.constructor.apply(this,e)}n.NAME="moodle-course-management",n.CSS_PREFIX="management",n.ATTRS={element:{setter:function(t){return typeof t=="string"&&(t=e.one("#"+t)),t},sesskey:function(){},categorylisting:{},courselisting:{},coursedetails:{},activecategoryid:{},activecourseid:{},categories:{setter:function(t,n){if(e.Lang.isArray(t))return t;var r=this.get(n);return r[t.get("categoryid")]=t,r},value:[]},course:{setter:function(t,n){if(e.Lang.isArray(t))return t;var r=this.get(n);return r[t.get("courseid")]=t,r},value:[]}}},n.prototype={initializer:function(){var e;this.set("element","coursecat-management"),e=this.get("element"),this.set("sesskey",e.one("input[name=sesskey]").getAttribute("value")),this.set("categorylisting",e.one("#category-listing")),this.set("courselisting",e.one("#course-listing")),this.set("coursedetails",e.one("#course-detail")),this.set("activecategoryid",this.get("categorylisting").one('.listitem[data-selected="1"]').getData("id")),this.set("activecourseid",this.get("courselisting").one('.listitem[data-selected="1"]').getData("id")),this.initialise_categories(),this.initialise_courses()},initialise_categories:function(){this.get("categorylisting").all(".listitem[data-id]").each(function(e){this.set("categories",new r({node:e,managementconsole:this}))},this)},initialise_courses:function(){var e=this.get("categories")[this.get("activecategoryid")];this.get("categorylisting").all(".listitem[data-id]").each(function(t){this.set("courses",new i({node:t,managementconsole:this,category:e}))},this)},debug:function(){var t=this.get("categories"),n=this.get("courses"),r=e.Node.create,i=r("<div></div>"),s,o,u,a;i.append(r("<div></div>").append("Categories: "+t.length())),i.append(r("<div></div>").append("Courses: "+n.length()));for(s in t)u=t[s],i.append(r("<div></div>").append("Category: "+u.get("node").one(" > div > a").get("innerHTML")));for(o in n)a=n[o],i.append(r("<div></div>").append("Category: "+a.get("node").one(" > div > a").get("innerHTML")));this.get("element").append(i)}},e.extend(n,e.Base,n.prototype),r.NAME="moodle-course-management-managedcategory",r.CSS_PREFIX="management-managedcategory",r.ATTRS={categoryid:{},selected:{value:!1},node:{},managementconsole:{}},r.prototype={initializer:function(){var e=this.get("node");this.set("categoryid",e.getData("id")),this.set("selected",e.getData("selected")==="1")}},e.extend(r,e.Base,r.prototype),i.NAME="moodle-course-management-managedcategory",i.CSS_PREFIX="management-managedcategory",i.ATTRS={courseid:{},selected:{value:!1},node:{},managementconsole:{},category:{}},i.prototype={initializer:function(){var e=this.get("node");this.set("courseid",e.getData("id"))}},e.extend(i,e.Base,i.prototype),M.course=M.course||{},M.course.init_management=function(e){var t=new n(e);t.debug()}},"@VERSION@");
