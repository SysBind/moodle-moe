<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Moodle 說明：安裝 PHP 和 MySQL</title>
	<link rel="stylesheet" href="docstyles.css" type="TEXT/CSS" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
<h1>安裝 Apache, MySQL 和 PHP</h1>
<blockquote>
  <p>Moodle 是用叫做 PHP 的程式語言寫成的，並把大多數資料存在資料庫中。這資料庫我們建議您使用 MySQL。 在安裝 Moodle 之前，您必須在您的網頁伺服器平台上(如，Apache,IIS)有一個可運作的 PHP，和可運作的資料庫系統。這些軟體的安裝對於一般電腦使用者而言，有些困難。因此這一頁的寫法是儘可能把不同平台上的安裝過程變得簡單。</p>
  <ul>
    <li><a href="#host" class="questionlink">虛擬主機出租服務</a></li>
    <li><a href="#mac" class="questionlink">Mac OS X</a></li>
    <li><a href="#redhat" class="questionlink">Redhat Linux</a></li>
    <li><a href="#windows" class="questionlink">Windows</a></li>
  </ul>
  <p class="questionlink">&nbsp;</p>
  <h3 class="sectionheading"><a name="host" id="host"></a>虛擬主機出租服務</h3>
  <blockquote>
    <p>不幸的是，虛擬主機出租服務之間運作方式差異極大。有些廠商甚至會幫您安裝 Moodle。</p>
    <p>大多數廠商會提供網頁式的控制面板來控制您的網站，建立資料庫，並設定 cron。有些也經由 SSH 提供終端存取，因此可以用指令來做這些事。</p>
    <p>您可以經由<a href="./?file=install.html">安裝指引</a>來工作，並一次一步驟，若被困住無法前進，去問您的主機伺服器出租業者。 </p>
    <p>&nbsp;</p>
  </blockquote>
  <h3 class="sectionheading"><a name="mac" id="mac"></a>Mac OS X</h3>
  <blockquote>
    <p>最簡單的方式是使用 Apple 提供的 Apache 伺服器, 
    並使用 Marc Liyanage 的套件新增 PHP 和 MySQL。以下兩個網頁有很好的說明，我們就不在此重複：</p>
    <blockquote>
      <p><strong>PHP</strong>: 在此下載: <a href="http://www.entropy.ch/software/macosx/php/" target="_top">http://www.entropy.ch/software/macosx/php/</a></p>
      <p><strong>MySQL</strong>: 在此下載: <a href="http://www.entropy.ch/software/macosx/mysql/" target="_top">http://www.entropy.ch/software/macosx/mysql/</a></p>
    </blockquote>
    <p>這些一旦安裝好，標準的<a href="./?file=install.html">安裝指引</a> 將會清楚地告訴您該怎麼做。</p>
    <p>要更詳細的說明在此: <a href="http://moodle.org/wiki/index.php/InstallingMoodle">http://moodle.org/wiki/index.php/InstallingMoodle</a></p>
    <p>&nbsp;</p>
  </blockquote>
  <h3 class="sectionheading"><a name="redhat"></a>Redhat Linux</h3>
  <blockquote>
    <p>您應該為 Apache, PHP 和 MySQL安裝所有可用的 RPM 套件。 
    一個常被忘掉的軟體是 php-mysql，它是讓 PHP 能與 MySQL 溝通的程式。</p>
    <p>一旦這些被安裝了，這標準的<a href="./?file=install.html">安裝指引</a> 將會相當直接了當。</p>
    <p>一個更詳細的步驟說明在此: <a href="http://moodle.org/wiki/index.php/InstallingMoodle">http://moodle.org/wiki/index.php/InstallingMoodle</a></p>
  </blockquote>
  <p>&nbsp;</p>
  <h3 class="sectionheading"><a name="windows" id="windows"></a>Windows</h3>
  <blockquote>
    <p>最簡單的方法是使用<a href="http://www.easyphp.org/" target="_blank">EasyPHP</a>， 
    這是把你需要的軟體都合併在一起，成為單一的 Windows 應用軟體。 
    以下是從開始到完成的步驟:</p>
    <ol>
      <li> 首先，如果您以前曾經安裝 MySQL (即使是另一套裝軟體的一部分)，把它完全解除安裝，刪除所有的 MySQL並確定您刪除<strong>c:\my.cnf</strong>和 <strong>c:\windows\my.ini</strong>。您或許要 
      搜尋並刪除任何叫做 <strong>my.cnf</strong> 或 <strong>my.ini</strong>的檔案。</li>
      <li> 如果您以前曾經安裝 PHP，在您的Windows目錄上刪除任何叫做<strong>php4ts.dll</strong>檔案。 
      ，以及任何稱做 <strong>php.ini</strong>的檔案。</li>
      <li> 從這裡: <a href="http://www.easyphp.org/telechargements/dn.php?F=easyphp1-7">http://www.easyphp.org/telechargements/dn.php?F=easyphp1-7</a> 
      下載 EasyPHP(大約 10 Mb)</li>
      <li> 執行下載的檔案：<strong>easyphp1-7_setup.exe</strong>。這安裝過程是以法文進行，但是很類似一般 Windows 程式的安裝。我建議您接受預設值，並讓它完全安裝。注意 
      這 &quot;Suivant&quot; 表示"下一個"，而 &quot;Oui&quot; 表示"是"。</li>
      <li>在安裝結束時，點選&quot;Lancer EasyPHP&quot; (啟動 EasyPHP) 然後擊點'Terminer&quot;
按鈕。您可能會看到一個相關訊息的網頁，您可以不管它。</li>
      <li>如果一切順利--恭喜！ Apache， PHP 和 MySQL 都已經安裝成功，且正在執行中！您將會看到一個黑色的 E 字在您的工具列上。您可以對它按右鍵以取得選單，好讓您控制執行的程式。</li>
      <li>選單的介面上是法文，而您可能較偏好英文。您可以下載這個檔案 <a href="http://www.easyphp.org/telechargements/dn.php?F=indexUS_1.7">http://www.easyphp.org/telechargements/dn.php?F=indexUS_1.7</a> 它包含www的英文版本和 EasyPHP1-7的主資料夾。這些都可以複製並覆蓋預設的檔案。</li>
      <li>下一步您要做的是，為 Moodle 建立一個資料庫來使用。 
      在工具列上的黑色 E 按右鍵，並選 Administration，然後按 DB Management (在 PHPMyAdmin 旁邊)。</li>
      <li>它如果問用戶名稱，請用&quot;<strong>root</strong>&quot; 以及<strong>空白密碼</strong>. 您將會看到一個 phpMyAdmin 網頁介面，它可讓您建立新資料庫和用戶帳號。</li>
      <li>藉著打入 &quot;moodle&quot; 到欄位中，並點選&quot;Create&quot;，可以建立新資料庫。真是簡單！</li>
      <li>如果您要的話，也可以建立一個新用戶來存取您的資料庫。然而這對於新手來說，是有點困難，因此，您可以先暫時使用現有的帳號 &quot;root&quot; 而沒有密碼，然後以後再從您的 Moodle 設定檔中去修改它。</li>
      <li> 您現在可以安裝 Moodle 了！請從<a href="http://moodle.org/download" target="_blank">http://moodle.org/download</a>下載 Moodle 的最新版本，然後解壓縮。</li>
      <li>複製您所有的 moodle 檔案到<strong>C:\Program Files\EasyPHP\www 之下。</strong>您可以 
      複製整個 moodle 目錄(例如 C:\Program Files\EasyPHP\www\moodle) 
      或者是複製moodle目錄裡的全部 <em>內容</em>。如果您使用第二種方式，那您將可以使用 
      http://localhost/ 來閱讀讀您的 Moodle 首頁，而使用第一種方式就需要用 http://localhost/moodle/ 才可看到首頁。</li>
      <li> 在硬碟的某處建立一新的空資料夾，並設定為可以讀寫，以便讓 Moodle 存放上傳的檔案，例如: <strong>C:\moodledata</strong>。</li>
      <li> 到您的 Moodle 資料夾，複製 config-dist.php 檔，並把它改名為 config.php</li>
      <li> 使用純文字編輯器編輯 config.php (用Notepad 就可以了，只要小心它沒有在尾端加上不要的空格即可 
      )。</li>
      <li>填入您的新資料庫的訊息:<br />
      $CFG-&gt;dbtype = 'mysql';<br />
      $CFG-&gt;dbhost = 'localhost';<br />
      $CFG-&gt;dbname = 'moodle';<br />
      $CFG-&gt;dbuser = 'root'; <br />
      $CFG-&gt;dbpass = '';<br />
      $CFG-&gt;dbpersist = true;<br />
      $CFG-&gt;prefix = 'mdl_';</li>
      <li>然後指定所有的檔案的路徑:<br />
      $CFG-&gt;wwwroot = 'http://localhost/moodle'; // 若您知道，請使用外在網址。<br />
      $CFG-&gt;dirroot = 'C:\Program Files\EasyPHP\www\moodle'; <br />
      $CFG-&gt;dataroot = 'C:\moodledata';</li>
      <li>儲存 config.php - 您可以先不管其他的設定。</li>
      <li>您幾乎快完工了！其他的設定都是要透過網頁的。使用您的瀏覽器拜訪 
      <a href="http://localhost/moodle/admin/" target="_blank">http://localhost/moodle/admin/</a> 
      以繼續設定工作。</li>
      <li>若要在 Moodle 中使用壓縮檔 (比如說用 zip 來備份) 您需要啟動 &quot;zlib&quot;。 您要先進入您的 EasyPHP 目錄(<strong>C:\Program Files\EasyPHP</strong>), 然後在這裡執行 
      phpini.exe 這個程式，勾選&quot;zlib.dll&quot;。關閉視窗，然後到您的工具列的黑色 E 字，並按右鍵 
      已取得選單，--然後選擇 &quot;Restart&quot;。</li>
      <li>最後，您需要設定某種 cron(會定期自動執行的程式)。請參見<a href="./?file=install.html">安裝說明</a> 以獲得更詳細訊息。</li>
    </ol>
    <p>如果您無法或不能使用 EasyPHP，這裡有一些技巧，可以幫您確定您的 PHP 是否設定正確，並避免常見的問題：</p>
    <ul>
      <li>確定您有啟動 GD 模組，好讓 Moodle能處理圖片 - 您可能要編輯 php.ini ，並移除'extension=php_gd2.dll' 這一行前面的分號(;)。 
    </li>
      <li>確定您啟動 Zlib 模組，好讓您能在 Moodle 裡面建立和解開 zip 檔。</li>
      <li>確定 sessions 是開啟的 - 您可能要編輯 php.ini 檔，修改變數 
      <strong>session.save_path</strong> 所用的目錄--- 替換掉預設的 "/tmp"，而改用 Windows 的目錄，如"c:/temp"。</li>
    </ul>
    <p>&nbsp;</p>
  </blockquote>
</blockquote>
<p align="center"><font size="1"><a href="." target="_top">Moodle 文件</a></font></p>
<p align="center"><font size="1">Version: $Id$</font></p>

</body>
</html>