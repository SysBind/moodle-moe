<FORM name="theform" method="post" <?=$onsubmit ?> action="edit.php" enctype="multipart/form-data">
<table>
<tr>
    <td align=right>
    <font size="1">
     <?PHP
        helpbutton("writing", get_string("helpwriting"), "moodle", true, true);
        echo "<br />";
        if ($usehtmleditor) {
           helpbutton("richtext", get_string("helprichtext"), "moodle", true, true);
        } else {
           emoticonhelpbutton("theform", "text");
        } 
      ?>
     <br />
    </font>
    </td>
</tr>

<tr>
    <td align=center>    
     <? echo get_string("concept","glossary") ?>: <INPUT type="text" name="concept" size=30 value="<? p($form->concept) ?>">     
    </td>
</tr>
<tr>
    <td align=center><p>
     <? echo get_string("definition","glossary").":" ?>     
    </td>
</tr>

</table>

<? print_textarea($usehtmleditor, 20, 60, 630, 400, "text", $entry->text); ?>

<p align=center>
<?PHP
   print_string("formattexttype");
   echo ":&nbsp;";
   choose_from_menu(format_text_menu(), "format", $entry->format, "");
   echo "<font size=\"1\">";
   helpbutton("textformat", get_string("helpformatting"));
   echo "</font>";
   if ($entry->id) {
	echo "<input type=\"hidden\" name=entry value=\"$entry->id\">";
   }
?>
</p>

<table border=0>
<tr valign=top>
    <td align=right><p><b><?php print_string("attachment", "glossary") ?>:<br \>(<?php print_string("optional") ?>)&nbsp;</b></p></td>
    <td>
    <input type="hidden" name="MAX_FILE_SIZE" value="<?php echo get_max_upload_file_size() ?>">
    <input type="file" name="attachment" size=40> 
    <?php 
       helpbutton("attachment", get_string("attachment", "glossary"), "glossary"); 
       print_string("maxsize", "", display_size(get_max_upload_file_size())); 
    ?>
    </td>

</tr>
</table>

<p align=center>
<input type="hidden" name=id value="<?=$cm->id ?>">
<input type="submit" value="<? print_string("savechanges") ?>">
<input type="reset" value="<? print_string("revert") ?>">
</P>
</form>

<?PHP 
   if ($usehtmleditor) { 
       print_richedit_javascript("theform", "text", "no");
   }
?>

