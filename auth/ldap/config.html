<?php
    if (!isset($config->ldap_host_url)) {
        $config->ldap_host_url = "";
    }
    if (!isset($config->ldap_contexts)) {
        $config->ldap_contexts = "";
    }
    if (!isset($config->ldap_user_attribute)) {
        $config->ldap_user_attribute = "";
    }
    if (!isset($config->ldap_search_sub)) {
        $config->ldap_search_sub = "";
    }
    if (!isset($config->ldap_bind_dn)) {
        $config->ldap_bind_dn = "";
    }
    if (!isset($config->ldap_bind_pw)) {
        $config->ldap_bind_pw = "";
    }
    if (empty($config->ldap_version)) {
        $config->ldap_version  = "2";
    }
    if (empty($config->ldap_memberattribute)) {
        $config->ldap_memberattribute = "";
    }
    if (empty($config->ldap_creators)) {
        $config->ldap_creators = "";
    }
    if (empty($config->ldap_create_context)) {
        $config->ldap_create_context = "";
    } 
    if (empty($config->ldap_objectclass)) {
        $config->ldap_objectclass = "";
    }
    if (empty($config->auth_user_guid)) {
        $config->auth_user_guid = "";
    }

?>
<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_host_url:</td>
    <td>
        <input name="ldap_host_url" type="text" size="30" value="<?php echo $config->ldap_host_url?>" />
    <?php  if (isset($err["ldap_host_url"])) formerr($err["ldap_host_url"]); ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_host_url","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_version:</td>
    <td>
    <?php
       $versions[2] = "2";
       $versions[3] = "3";
       choose_from_menu($versions, "ldap_version", $config->ldap_version, "");
       if (isset($err["ldap_version"])) formerr($err["ldap_version"]); 
    ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_version","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_contexts:</td>
    <td>
    <input name="ldap_contexts" type="text" size="30" value="<?php echo $config->ldap_contexts?>" />
    <?php  if (isset($err["ldap_contexts"])) formerr($err["ldap_contexts"]); ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_contexts","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_user_attribute:</td>
    <td>
    <input name="ldap_user_attribute" type="text" size="30" value="<?php echo $config->ldap_user_attribute?>" />
    <?php  if (isset($err["ldap_user_attribute"])) formerr($err["ldap_user_attribute"]); ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_user_attribute","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_objectclass:</td>
    <td>
    <input name="ldap_objectclass" type="text" size="30" value="<?php echo $config->ldap_objectclass?>" />
    <?php  if (isset($err["ldap_objectclass"])) formerr($err["ldap_objectclass"]); ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_objectclass","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_search_sub:</td>
    <td>
    <input name="ldap_search_sub" type="text" size="1" value="<?php echo $config->ldap_search_sub?>" />
    <?php  if (isset($err["ldap_search_sub"])) formerr($err["ldap_search_sub"]); ?>
    </td>
    <td>
    <?php  print_string("auth_ldap_search_sub","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_bind_dn:</td>
    <td>
    <input name="ldap_bind_dn" type="text" size="30" value="<?php echo $config->ldap_bind_dn?>" />
    <?php  if (isset($err["ldap_bind_dn"])) formerr($err["ldap_bind_dn"]); ?>
    </td><td>
    <?php  print_string("auth_ldap_bind_dn","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_bind_pw:</td>
    <td>
    <input name="ldap_bind_pw" type="text" size="30" value="<?php echo $config->ldap_bind_pw?>" />
    <?php  if (isset($err["ldap_bind_pw"])) formerr($err["ldap_bind_pw"]); ?>
    </td><td>
    <?php  print_string("auth_ldap_bind_pw","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
        <td align="right"><p>ldap_memberattribute:</td>
        <td>
    <input name="ldap_memberattribute" type="text" size="30" value="<?php echo $config->ldap_memberattribute?>" />
    <?php  if (isset($err["ldap_memberattribute"])) formerr($err["ldap_memberattribute"]); ?>
    </td><td>
    <?php  print_string("auth_ldap_memberattribute","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
        <td align="right"><p>ldap_creators:</td>
        <td>
    <input name="ldap_creators" type="text" size="30" value="<?php echo $config->ldap_creators?>" />
    <?php  if (isset($err["ldap_creators"])) formerr($err["ldap_creators"]); ?>
    </td><td>
    <?php  print_string("auth_ldap_creators","auth") ?>
    </td>
</tr>

<tr valign="top" bgcolor="<?php echo $THEME->cellheading2 ?>">
    <td align="right"><p>ldap_create_context:</td>
    <td>
    <input name="ldap_create_context" type="text" size="30" value="<?php echo $config->ldap_create_context?>" />
    <?php  if (isset($err["ldap_create_context"])) formerr($err["ldap_create_context"]); ?>
    </td><td>
    <?php  print_string("auth_ldap_create_context","auth") ?>
    </td>
</tr>

<tr>
    <td align="right"><p><?php  print_string("firstname") ?>:</td>
    <td>
    <input name="auth_user_firstname" type="text" size="30" value="<?php echo $config->auth_user_firstname?>" />
    </td>
    <td rowspan="12" valign="center">
    <?php  print_string("auth_ldapextrafields","auth") ?>
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("lastname") ?>:</td>
    <td>
    <input name="auth_user_lastname" type="text" size="30" value="<?php echo $config->auth_user_lastname?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("email") ?>:</td>
    <td>
    <input name="auth_user_email" type="text" size="30" value="<?php echo $config->auth_user_email?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("phone") ?> 1:</td>
    <td>
    <input name="auth_user_phone1" type="text" size="30" value="<?php echo $config->auth_user_phone1?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("phone") ?> 2:</td>
    <td>
    <input name="auth_user_phone2" type="text" size="30" value="<?php echo $config->auth_user_phone2?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("department") ?>:</td>
    <td>
    <input name="auth_user_department" type="text" size="30" value="<?php echo $config->auth_user_department?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("address") ?>:</td>
    <td>
    <input name="auth_user_address" type="text" size="30" value="<?php echo $config->auth_user_address?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("city") ?>:</td>
    <td>
    <input name="auth_user_city" type="text" size="30" value="<?php echo $config->auth_user_city?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("country") ?>:</td>
    <td>
    <input name="auth_user_country" type="text" size="30" value="<?php echo $config->auth_user_country?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("description") ?>:</td>
    <td>
    <input name="auth_user_description" type="text" size="30" value="<?php echo $config->auth_user_description?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("idnumber") ?>:</td>
    <td>
    <input name="auth_user_idnumber" type="text" size="30" value="<?php echo $config->auth_user_idnumber?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("language") ?>:</td>
    <td>
    <input name="auth_user_lang" type="text" size="30" value="<?php echo $config->auth_user_lang?>" />
    </td>
</tr>

<tr valign="top">
    <td align="right"><p><?php  print_string("guid") ?>:</td>
    <td>
    <input name="auth_user_guid" type="text" size="30" value="<?php echo $config->auth_user_guid?>" />
    </td>
</tr>


<tr valign="top">
    <td align="right"><p><?php  print_string("instructions", "auth") ?>:</td>
    <td>
    <textarea name="auth_instructions" cols="30" rows="10" wrap="virtual"><?php  p($config->auth_instructions) ?></textarea> 
    </td>
    <td>
    <?php  print_string("authinstructions","auth") ?>
    <?php  helpbutton("text", get_string("helptext")) ?>
    </td>
</tr>




